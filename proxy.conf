server {
    listen *:80;

    location /api {
        rewrite ^/api(.*) $1 break;
        proxy_pass http://backend:80;

        proxy_hide_header 'Access-Control-Allow-Origin';
        proxy_hide_header 'access-control-allow-headers';
        proxy_hide_header 'access-control-allow-methods';

        add_header 'Access-Control-Allow-Origin' '*';
        add_header 'access-control-allow-headers'
            'origin, x-requested-with, content-type';
        add_header 'access-control-allow-methods' 'GET, POST';
    }
}